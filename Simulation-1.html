<!DOCTYPE html>
<html>
<head>
     <meta charset="UTF-8">
     <title>NAND and NOR</title>
     <link rel="stylesheet" href="css/styles.css">
     <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
</head>
<body>  
        <style>
            body {
            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
            }
            
            .topnav {
            overflow: hidden;
            background-color: #66BFBF;
            }
            
            .topnav a {
            float: left;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;
            }
            
            .topnav a:hover {
            background-color: #ddd;
            color: black;
            }
            
            .topnav a.active {
            background-color: #11999E;
            color: white;
            }
        </style>

        <div class="topnav">
            <a class="active" href="index.html">Back</a>
            <a href="Procedure.html">Instructions</a>
            <a href="Simulation-1.html">Simulation-1</a>
            <a href="Simulation-2.html">Simulation-2</a>
        </div>
        <p class="first_para">Simulation-1</p>
            <table>
                <tr>
                <td style="width: 125px;"><label>A: </label><input type="number" min="0" max="1"></input><br><br><label>B: </label><input type="number" min="0" max="1"></input></td>
                <td>
                    <div class="container">
                        <label id="containers-text-A">Stuck A: </label>
                        <input id="containers-A" type="number" class="form-control" name="SAA" min="0" max="1">
                        <label id="containers-text-B">Stuck B: </label>
                        <input id="containers-B" type="number" class="form-control" name="SAB" min="0" max="1">
                        <label id="containers-text-out">Fault at output: </label>
                        <input id="containers-out"type="number" name="SAO" min="0" max="1">
                        <img src="Images/NAND.png">
                    </div>  
                </td>
                </tr>
            </table>
        </div>
        
        <br><br>
        <button type="submit" id="myBtn" class="btn btn-primary btn-block" style="background-color: #76C2AF;">Run</button>
        <br><br>

        <hr>
        <p class="para">Click on Run to update the truth table</p>
        <table id="tables">
            <tr>
            <th>A</th>
            <!-- <th>stuckAtA</th> -->
            <th>B</th>
            <!-- <th>stuckAtB</th> -->
            <th>Output</th>
            <!-- <th>stuckAtOut</th> -->
            <th>Expected Output</th>
            </tr>
        </table>

        <script>
            var x = document.getElementById("myBtn");
            if (x.addEventListener) {
            x.addEventListener("click", myFunction);
            } else if (x.attachEvent) {
            x.attachEvent("onclick", myFunction);
            }
            
            function myFunction() 
            {
                var stuckAtA=-1;
                var stuckAtB=-1;
                var A=-1;
                var B=-1;
                var tempA;
                var tempB;
                var stuckAtOut=-1;
                var result;
                var inputs=document.querySelectorAll('input');

                if(inputs[0].value.length==0||inputs[1].value.length==0||inputs[0].value<0||inputs[1].value>1
                ||inputs[1].value<0||inputs[1].value>1)
                {
                    alert("Enter correct inputs");
                    inputs[0].value='';
                    inputs[1].value='';
                    return;
                }

                A=inputs[0].value;
                B=inputs[1].value;

                tempA=A;
                tempB=B;

                if(inputs[2].value.length!=0)
                {
                    stuckAtA=inputs[2].value;
                }

                if(inputs[3].value.length!=0)
                {
                    stuckAtB=inputs[3].value;
                }

                if(inputs[4].value.length!=0)
                {
                    stuckAtOut=inputs[4].value;
                }

                if(stuckAtA!=-1)
                {
                    A=stuckAtA;
                }
                if(stuckAtB!=-1)
                {
                    B=stuckAtB;
                }

                if(stuckAtOut==-1)
                {
                    if(!(A&B)===false)
                    {
                        result=0;
                    }
                    else
                    {
                        result=1;
                    }
                }
                else
                {
                    result=stuckAtOut;
                }
                var rows='';
                
                rows=document.getElementById('tables').innerHTML;
                var actual=!(Number(tempB&tempA))==true?1:0;
                if(stuckAtA!=-1||stuckAtB!=-1||stuckAtOut!=-1){
                    rows=rows+"<tr style='background-color:red'><td id='tables'>"+tempA+
                    "</td><td id='tables'>"+tempB+
                    "</td><td id='tables'>"+result+"</td>"+"<td id='tables'>"+actual+
                    "</td>"+"</tr>";
                    document.getElementById('tables').innerHTML=rows;
                }
                else{
                    rows=rows+"<tr><td id='tables'>"+tempA+
                    "</td><td id='tables'>"+tempB+
                    "</td><td id='tables'>"+result+"</td>"+"<td id='tables'>"+actual+
                    "</td>"+"</tr>";
                    document.getElementById('tables').innerHTML=rows;
                }
                
            }
        </script>
       
        <hr>
        <div class="bottom_container">
            <p class="Signature">Team Members: Shrinidhi Ballal Nidamboor, Aakash G. Acharya, Shilwant Roy, Ajay Vikram P, Nitin Jayadeep</p>
        </div>
</body>
 
</html>